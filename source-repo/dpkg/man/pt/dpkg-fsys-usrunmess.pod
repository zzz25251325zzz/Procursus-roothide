
        *****************************************************
        *           GENERATED FILE, DO NOT EDIT             *
        * THIS IS NO SOURCE FILE, BUT RESULT OF COMPILATION *
        *****************************************************

This file was generated by po4a(7). Do not store it (in VCS, for example),
but store the PO file used as source file by po4a-translate.

In fact, consider this as a binary, and the PO file as a regular .c file:
If the PO get lost, keeping this translation up-to-date will be harder.

=encoding UTF-8

=head1 NOME

dpkg-fsys-usrunmess - desfaz a confusão merged-/usr-via-aliased-dirs

=head1 SINOPSE

B<dpkg-fsys-usrunmess> [B<option>...]

=head1 DESCRIÇÃO

B<dpkg-fsys-usrunmess> é uma ferramenta para corrigir sistemas de ficheiros que foram instalados de novo com instaladores recentes de predefinições infelizes ou migrados para um /usr danificado via directórios de disposição de nomes alternativos, o qual B<não> é suportado pelo dpkg. Veja a FAQ do dpkg.

B<Nota>: Em Debian o seu tech-ctte decretou que num lançamento após o bookworm a disposição não-usrmerged não irá ser suportada, e assim alguns dos seus maintainers podem não corrigir problemas ou intencionalmente remover o suporta não-usrmerged, assim você tem de decidir e escolher o seu veneno.

Este programa irá executar as seguintes acções gerais:

=over 

=item *

Verifica se o sistema precisa de ser comutado, caso contrário não faz nada.

=item *

Verifica a consistência da base de dados do dpkg e caso contrário aborta.

=item *

Gera e instala um pacote de prevenção de regressão, se pedido na linha de comandos ou caso contrário na solicitação.

=item *

Obtém a lista de ficheiros e alternativas que precisam ser restaurados.

=item *

Procura ficheiros de módulos de kernel não vigiados que possam precisar se ser movidos também.

=item *

Cria uma hierarquia sombra sob F</.usrunmess>, ao criar os links simbólicos de directórios ou por ligações rijas ou copiando os ficheiros como necessário.

=item *

Pede confirmação antes de proceder, se requerido na linha de comandos.

=item *

Tranca a base de dados do dpkg.

=item *

Marca todos os pacotes como meio instalados para forçar o correr dos scripts de maintainer que podem precisar de recriar ficheiros.

=item *

Substitui os directórios de nomes alternativos pelos sombra, ao criar uma cópia de salvaguarda dos antigos directórios de links simbólicos e renomeando os sombra sobre os outros.

=item *

Re-etiqueta a informação MAC para directórios e links simbólicos se necessário.

=item *

Remove links simbólicos de salvaguarda.

=item *

Remove os objectos movidos antigos, mas adia a remoção de directórios.

=item *

Remove directórios adiados antigos que não estão referidos pelo dpkg-query.

=item *

Remove o directório raiz sombra.

=item *

Regista um B<policy-rc.d> para proibir acções de serviço, o que significa que os serviços podem precisar de serem reiniciados após isto, idealmente com um reiniciar da máquina.

=item *

Reconfigura todos os pacotes.

=item *

Retira o registo de B<policy-rc.d> e restaura o estado das alternativas.

=back

B<Nota>: Quando se corre o programa a partir de alguma shells tais como L<bash(1)> ou L<zsh(1)>, após o executar, você pode precisar de requisitar à shell para esquecer todas as localizações de executáveis lembradas com por exemplo C<hash -r>.

B<Nota>: Alguns directórios podem demorar após a migração no caso de conterem ficheiros não acompanhados. É escrita uma lista assim que o script terminar para investigação posterior.

B<Aviso>: Note que esta operação tem o potencial de tornar o sistema não utilizável ou quebrado em caso de uma pagarem súbita ou reinicio do sistema. estado inesperado do sistema, ou possíveis bugs no script. Esteja preparado com meio de recuperação e considere fazer cópias de salvaguarda antes.

=head1 OPÇÕES

=over 

=item B<-p>, B<--prompt>

Pergunta no ponto de não retorno, para que os resultados de depuração da hierarquia sombra possam ser avaliados antes de proceder.

=item B<--prevention>

=item B<--no-prevention>

Activa ou desactiva a a geração e instalação de um pacote de prevenção de regressão no sistema. Se nenhuma opção for fornecida, será solicitada qual a acção a tomar.

O pacote gerado contém o campo B<Protected> definido para B<yes> para proteção contra remoção acidental do pacote.

=item B<-n>, B<--no-act>

=item B<--dry-run>

Esta opção activa o modo dry-run, onde não há acções destrutivas, apenas a parte de preparação.

=item B<-?>, B<--help>

Mostra a mensagem de utilização e termina.

=item B<--version>

Mostra a versão e termina.

=back

=head1 AMBIENTE

=over 

=item B<DPKG_USRUNMESS_NOACT>

Esta definição define se se deve activar o modo dry-run.

=back

=head1 VEJA TAMBÉM

L<https://wiki.debian.org/Teams/Dpkg/FAQ#broken-usrmerge>.


=head1 TRADUÇÃO

Américo Monteiro

Se encontrar algum erro na tradução deste documento, por favor comunique para
Américo Monteiro <a_monteiro@gmx.com>.
